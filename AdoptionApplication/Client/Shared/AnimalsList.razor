@inject IAnimalService AnimalService
@implements IDisposable

<ul class="list-unstyled">
    @foreach (var animal in AnimalService.Animals)
    {
       <li class="media my-3">
           <div class="media-img-wrapper mr-2">
               <a href="/animal/@animal.Id">
                   <img class="media-img" src="@animal.Image" alt="@animal.Name" />
               </a>
           </div>
           <div class="media-body">
               <a href="/animal/@animal.Id">
                   <h4 class="mb-0">@animal.Name</h4>
               </a>
               <div class="text-info">Płeć: @animal.Gender</div>
               <div class="text-info">Miasto: @animal.City</div>
               <div class="text-info">Krótki opis: @animal.ShortDescription</div>
               @if(animal.HealthStatus == HealthStatusContants.Healthy)
               {
                   <div class="text-success">@animal.HealthStatus</div>
               }
               else
               {
                   <div class="text-danger">@animal.HealthStatus</div>
               }
           </div>
       </li> 
    }
</ul>

@code {
    //[Parameter]
    //public int? SpeciesId { get; set; } = null;

    protected override void OnInitialized()
    {
        //await AnimalService.LoadAnimals();
        AnimalService.OnChange += StateHasChanged;
    }

    public void Dispose()
    {
        AnimalService.OnChange -= StateHasChanged;
    }
}
